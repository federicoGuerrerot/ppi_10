{% extends 'core/base.html' %}

{% block title %}
    TutoUN - {{user.email}}
{% endblock %}

{% load static %}

{% block head_extra %}
    <link rel="stylesheet" href="/static/css/home.css">
{% endblock %}

{% block content %}

<div class="row mb-2 posts">
    {% for tutoria in listatutorias %}
        <div class="col-md-6">
            <div class="cards">
                <div class="row no-gutters border rounded flex-md-row mb-4 shadow-sm h-md-250 tutor-card" id="tutor-card-{{ tutoria.id }}" data-url="{% url 'detalleTutoria' tutoria.id %}">
                    <div class="col p-4 d-flex flex-column position-static">
                        <h3 class="my-1">{{tutoria.tema}}</h3>
                        <p class="mb-auto">Tutor : {{tutoria.tutor.email}}</p>
                        <p class="mb-auto">Fecha : {{tutoria.fecha}}</p>
                        <p class="mb-auto">Nombre : {{tutoria.nombre}}</p>
                        <p class="mb-auto">Estado : {{tutoria.estado}}</p>
                    </div>
                    <a href="{% url 'eliminarTutoria' tutoria.id %}">Eliminar tutoria</a> 
                </div>
            </div>
        </div>
    {% endfor %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var tutorCards = document.querySelectorAll('.tutor-card');
        
        tutorCards.forEach(function(card) {
            card.addEventListener('click', function() {
                var url = this.getAttribute('data-url');
                location.href = url;
            });
        });
    });
</script>
{% endblock %}
